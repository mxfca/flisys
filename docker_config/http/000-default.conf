<VirtualHost *:80>
  DocumentRoot /var/www/flisys
  <Directory /var/www/flisys>
    Options FollowSymLinks
    AllowOverride All
    Require all granted

    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
     # normal call of javascript files
    RewriteRule "^js/(.*)" "/include/js/$1" [L,PT]
    # normal call of css files
    RewriteRule "^css/(.*)" "/include/css/$1" [L,PT]
    # normal navigation without language and page
    RewriteRule "^$" "index.php" [L,PT]
    # normal navigation with language, but without a page
    RewriteRule "^([a-zA-Z]{2})/?$" "index.php?lang=$1" [L,PT]
    # normal navigation with language and page
    RewriteRule "^([a-zA-Z]{2})/(visitors|lectures|workshops|certs|admin)$" "/$2.php?lang=$1" [L,PT]
    # normal navigation without language, but with a page
    RewriteRule "^(visitors|lectures|workshops|certs|admin)$" "/$1.php" [L,PT]
    # call support pages without language (languages must not be used on support pages)
    RewriteRule "^(visitors|lectures|workshops|certs|admin)/(.*)/(.*)" "/$2_$3.php?lang=$1&$4" [L,PT]
  </Directory>

  LogLevel warn
  ErrorLog /var/log/apache2/flisys/error.log
  CustomLog /var/log/apache2/flisys/access.log combined
</VirtualHost>

<VirtualHost *:443>
  DocumentRoot /var/www/flisys
  <Directory /var/www/flisys>
    Options FollowSymLinks
    AllowOverride None
    Require all granted

    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    # normal call of javascript files
    RewriteRule "^js/(.*)" "/include/js/$1" [L,PT]
    # normal call of css files
    RewriteRule "^css/(.*)" "/include/css/$1" [L,PT]
    # normal navigation without language and page
    RewriteRule "^$" "index.php" [L,PT]
    # normal navigation with language, but without a page
    RewriteRule "^([a-zA-Z]{2})/?$" "index.php?lang=$1" [L,PT]
    # normal navigation with language and page
    RewriteRule "^([a-zA-Z]{2})/(visitors|lectures|workshops|certs|admin)$" "/$2.php?lang=$1" [L,PT]
    # normal navigation without language, but with a page
    RewriteRule "^(visitors|lectures|workshops|certs|admin)$" "/$1.php" [L,PT]
    # call support pages without language (languages must not be used on support pages)
    RewriteRule "^(visitors|lectures|workshops|certs|admin)/(.*)/(.*)" "/$2_$3.php?lang=$1&$4" [L,PT]
  </Directory>

  SSLEngine on
  SSLCertificateFile /etc/apache2/certs/flisys.crt
  SSLCertificateKeyFile /etc/apache2/certs/flisys.key

  LogLevel warn
  ErrorLog /var/log/apache2/flisys/error.log
  CustomLog /var/log/apache2/flisys/access.log combined
</VirtualHost>
